<script>
<!--
document.write(unescape("%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22es%22%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22/%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22/%3E%0A%20%20%3Ctitle%3EConfiguraci%F3n%3C/title%3E%0A%20%20%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DPoppins%3Awght@400%3B600%26display%3Dswap%22%20rel%3D%22stylesheet%22/%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20--primary%3A%20%234e73df%3B%0A%20%20%20%20%20%20--primary-hover%3A%20%232e59d9%3B%0A%20%20%20%20%20%20--danger%3A%20%23e74a3b%3B%0A%20%20%20%20%20%20--bg%3A%20%23f8f9fc%3B%0A%20%20%20%20%20%20--text%3A%20%23333%3B%0A%20%20%20%20%7D%0A%20%20%20%20*%2C%20*%3A%3Abefore%2C%20*%3A%3Aafter%20%7B%20box-sizing%3A%20border-box%3B%20%7D%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20margin%3A%200%3B%20font-family%3A%20%27Poppins%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20background%3A%20var%28--bg%29%3B%20color%3A%20var%28--text%29%3B%0A%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20min-height%3A%20100vh%3B%20padding%3A%202rem%3B%0A%20%20%20%20%7D%0A%20%20%20%20.container%20%7B%0A%20%20%20%20%20%20max-width%3A%20480px%3B%20width%3A%20100%25%3B%0A%20%20%20%20%20%20background%3A%20%23fff%3B%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20box-shadow%3A%200%208px%2016px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%20%20%20%20%20%20padding%3A%202rem%3B%20opacity%3A%200%3B%0A%20%20%20%20%20%20transform%3A%20translateY%2820px%29%3B%0A%20%20%20%20%20%20animation%3A%20fadeInUp%200.6s%20forwards%3B%0A%20%20%20%20%7D%0A%20%20%20%20@keyframes%20fadeInUp%20%7B%20to%20%7B%20opacity%3A%201%3B%20transform%3A%20translateY%280%29%3B%20%7D%20%7D%0A%20%20%20%20h2%20%7B%20margin-top%3A%200%3B%20color%3A%20var%28--primary%29%3B%20text-align%3A%20center%3B%20%7D%0A%20%20%20%20.form-group%20%7B%20margin-bottom%3A%201rem%3B%20%7D%0A%20%20%20%20label%20%7B%20display%3A%20block%3B%20margin-bottom%3A%20.25rem%3B%20font-weight%3A%20600%3B%20%7D%0A%20%20%20%20input%20%7B%0A%20%20%20%20%20%20width%3A%20100%25%3B%20padding%3A%20.75rem%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23ddd%3B%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20transition%3A%20border-color%20.3s%2C%20box-shadow%20.3s%3B%0A%20%20%20%20%7D%0A%20%20%20%20input%3Afocus%20%7B%0A%20%20%20%20%20%20border-color%3A%20var%28--primary%29%3B%0A%20%20%20%20%20%20box-shadow%3A%200%200%205px%20rgba%2878%2C115%2C223%2C0.5%29%3B%0A%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%20%7B%0A%20%20%20%20%20%20width%3A%20100%25%3B%20padding%3A%20.75rem%3B%0A%20%20%20%20%20%20background%3A%20var%28--primary%29%3B%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20border%3A%20none%3B%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20font-weight%3A%20600%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20transition%3A%20background%20.3s%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%3Ahover%20%7B%20background%3A%20var%28--primary-hover%29%3B%20%7D%0A%20%20%20%20.danger%20%7B%0A%20%20%20%20%20%20background%3A%20var%28--danger%29%3B%20margin-top%3A%201rem%3B%0A%20%20%20%20%7D%0A%20%20%20%20.danger%3Ahover%20%7B%20background%3A%20%23c0392b%3B%20%7D%0A%20%20%20%20.message%20%7B%0A%20%20%20%20%20%20margin-top%3A%201rem%3B%20padding%3A%20.75rem%3B%0A%20%20%20%20%20%20border-radius%3A%206px%3B%20display%3A%20none%3B%20text-align%3A%20center%3B%0A%20%20%20%20%7D%0A%20%20%20%20.message.error%20%20%20%7B%20background%3A%20%23fdecea%3B%20color%3A%20%23b71c1c%3B%20%7D%0A%20%20%20%20.message.success%20%7B%20background%3A%20%23eafaf1%3B%20color%3A%20%231e4620%3B%20%7D%0A%20%20%20%20%23verify-section%20%7B%20display%3A%20none%3B%20%7D%0A%20%20%20%20%23btn-back%20%7B%0A%20%20%20%20%20%20display%3A%20block%3B%20width%3A%20100%25%3B%20padding%3A%20.75rem%3B%0A%20%20%20%20%20%20background%3A%20var%28--primary%29%3B%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20border%3A%20none%3B%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20font-weight%3A%20600%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20transition%3A%20background%20.3s%2C%20transform%20.2s%3B%0A%20%20%20%20%20%20margin-top%3A%201rem%3B%0A%20%20%20%20%7D%0A%20%20%20%20%23btn-back%3Ahover%20%7B%20transform%3A%20scale%281.05%29%3B%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Cdiv%20class%3D%22container%22%3E%0A%20%20%20%20%3Ch2%3EConfiguraci%F3n%20de%20cuenta%3C/h2%3E%0A%20%20%20%20%3Cdiv%20id%3D%22msg%22%20class%3D%22message%22%3E%3C/div%3E%0A%0A%20%20%20%20%3Cform%20id%3D%22settings-form%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22email%22%3EEmail%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22email%22%20id%3D%22email%22%20required%20/%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22current-password%22%3EContrase%F1a%20actual%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20id%3D%22current-password%22%20required%20/%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22new-password%22%3ENueva%20contrase%F1a%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20id%3D%22new-password%22%20/%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3Cbutton%20type%3D%22submit%22%3EGuardar%20cambios%3C/button%3E%0A%20%20%20%20%3C/form%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22verify-section%22%3E%0A%20%20%20%20%20%20%3Cp%20style%3D%22text-align%3Acenter%3B%22%3ETe%20hemos%20enviado%20un%20c%F3digo%20de%20confirmaci%F3n%20a%20tu%20correo.%20Introduce%20el%20c%F3digo%20para%20aplicar%20el%20cambio%3A%3C/p%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22verify-code%22%20placeholder%3D%22C%F3digo%20de%20confirmaci%F3n%22%20/%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22verify-button%22%3EConfirmar%20cambio%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cbutton%20id%3D%22logout%22%20class%3D%22danger%22%3ECerrar%20sesi%F3n%3C/button%3E%0A%20%20%20%20%3Cbutton%20id%3D%22delete-account%22%20class%3D%22danger%22%3EEliminar%20cuenta%3C/button%3E%0A%20%20%20%20%3Cbutton%20id%3D%22btn-back%22%20type%3D%22button%22%3EVolver%3C/button%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20key%20%3D%20localStorage.getItem%28%27loggedUser%27%29%20%7C%7C%20sessionStorage.getItem%28%27sessionUser%27%29%3B%0A%20%20%20%20if%20%28%21key%29%20return%20window.location.href%20%3D%20%27session.html%27%3B%0A%20%20%20%20const%20user%20%3D%20JSON.parse%28localStorage.getItem%28key%29%20%7C%7C%20%27%7B%7D%27%29%3B%0A%20%20%20%20document.getElementById%28%27email%27%29.value%20%3D%20user.email%20%7C%7C%20%27%27%3B%0A%0A%20%20%20%20const%20form%20%20%20%20%20%20%20%3D%20document.getElementById%28%27settings-form%27%29%3B%0A%20%20%20%20const%20verifySec%20%20%3D%20document.getElementById%28%27verify-section%27%29%3B%0A%20%20%20%20const%20verifyBtn%20%20%3D%20document.getElementById%28%27verify-button%27%29%3B%0A%20%20%20%20const%20msg%20%20%20%20%20%20%20%20%3D%20document.getElementById%28%27msg%27%29%3B%0A%20%20%20%20let%20confirmationCode%20%3D%20%27%27%3B%0A%0A%20%20%20%20function%20showMessage%28text%2C%20type%29%20%7B%0A%20%20%20%20%20%20msg.textContent%20%3D%20text%3B%0A%20%20%20%20%20%20msg.className%20%20%20%3D%20%27message%20%27%20+%20type%3B%0A%20%20%20%20%20%20msg.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20msg.style.display%20%3D%20%27none%27%2C%204000%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20form.addEventListener%28%27submit%27%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20e.preventDefault%28%29%3B%0A%20%20%20%20%20%20const%20email%20%20%20%20%20%20%20%3D%20document.getElementById%28%27email%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20const%20currentPass%20%3D%20document.getElementById%28%27current-password%27%29.value%3B%0A%20%20%20%20%20%20const%20newPass%20%20%20%20%20%3D%20document.getElementById%28%27new-password%27%29.value%3B%0A%20%20%20%20%20%20const%20keep%20%20%20%20%20%20%20%20%3D%20document.getElementById%28%27keep-logged%27%29%3F.checked%3B%0A%0A%20%20%20%20%20%20if%20%28%21email%20%7C%7C%20%21currentPass%29%20return%20showMessage%28%27Email%20y%20contrase%F1a%20actual%20son%20obligatorios.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20if%20%28user.password%20%21%3D%3D%20currentPass%29%20return%20showMessage%28%27Contrase%F1a%20actual%20incorrecta.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20user.email%20%3D%20email%3B%0A%20%20%20%20%20%20localStorage.setItem%28key%2C%20JSON.stringify%28user%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21newPass%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28keep%29%20localStorage.setItem%28%27loggedUser%27%2C%20key%29%3B%0A%20%20%20%20%20%20%20%20else%20sessionStorage.setItem%28%27sessionUser%27%2C%20key%29%3B%0A%20%20%20%20%20%20%20%20return%20showMessage%28%27Email%20actualizado%20correctamente.%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20confirmationCode%20%3D%20Math.floor%28100000%20+%20Math.random%28%29*900000%29.toString%28%29%3B%0A%20%20%20%20%20%20fetch%28%27https%3A//api.emailjs.com/api/v1.0/email/send%27%2C%20%7B%0A%20%20%20%20%20%20%20%20method%3A%20%27POST%27%2C%0A%20%20%20%20%20%20%20%20headers%3A%20%7B%20%27Content-Type%27%3A%20%27application/json%27%20%7D%2C%0A%20%20%20%20%20%20%20%20body%3A%20JSON.stringify%28%7B%0A%20%20%20%20%20%20%20%20%20%20service_id%3A%20%20%20%20%27TU_SERVICE_ID%27%2C%0A%20%20%20%20%20%20%20%20%20%20template_id%3A%20%20%20%27TU_TEMPLATE_ID_CONFIRM%27%2C%0A%20%20%20%20%20%20%20%20%20%20user_id%3A%20%20%20%20%20%20%20%27TU_EMAILJS_PUBLIC_KEY%27%2C%0A%20%20%20%20%20%20%20%20%20%20template_params%3A%20%7B%20to_email%3A%20key%2C%20confirmation_code%3A%20confirmationCode%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20.then%28res%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21res.ok%29%20throw%20new%20Error%28res.status%20+%20%27%20%27%20+%20res.statusText%29%3B%0A%20%20%20%20%20%20%20%20form.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20verifySec.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20showMessage%28%27C%F3digo%20enviado.%20Revisa%20tu%20email.%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20.catch%28err%20%3D%3E%20showMessage%28%27Error%20al%20enviar%20correo%3A%20%27%20+%20err.message%2C%20%27error%27%29%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20verifyBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20code%20%3D%20document.getElementById%28%27verify-code%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20if%20%28code%20%21%3D%3D%20confirmationCode%29%20return%20showMessage%28%27C%F3digo%20incorrecto.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20const%20newPass%20%3D%20document.getElementById%28%27new-password%27%29.value%3B%0A%20%20%20%20%20%20user.password%20%3D%20newPass%3B%0A%20%20%20%20%20%20localStorage.setItem%28key%2C%20JSON.stringify%28user%29%29%3B%0A%20%20%20%20%20%20showMessage%28%27Contrase%F1a%20actualizada%20correctamente.%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20if%20%28document.getElementById%28%27keep-logged%27%29%3F.checked%29%20localStorage.setItem%28%27loggedUser%27%2C%20key%29%3B%0A%20%20%20%20%20%20else%20sessionStorage.setItem%28%27sessionUser%27%2C%20key%29%3B%0A%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20window.location.href%20%3D%20%27content.html%27%2C%201000%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20document.getElementById%28%27logout%27%29.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20localStorage.removeItem%28%27loggedUser%27%29%3B%20sessionStorage.removeItem%28%27sessionUser%27%29%3B%0A%20%20%20%20%20%20window.location.href%20%3D%20%27session.html%27%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20document.getElementById%28%27delete-account%27%29.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28confirm%28%27%BFSeguro%20que%20quieres%20eliminar%20tu%20cuenta%3F%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20localStorage.removeItem%28key%29%3B%20localStorage.removeItem%28%27loggedUser%27%29%3B%20sessionStorage.removeItem%28%27sessionUser%27%29%3B%0A%20%20%20%20%20%20%20%20window.location.href%20%3D%20%27session.html%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20document.getElementById%28%27btn-back%27%29.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20window.location.href%20%3D%20%27content.html%27%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A"));
//-->
</script>
