<script>
<!--
document.write(unescape("%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22es%22%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22/%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22/%3E%0A%20%20%3Ctitle%3ERegistro%3C/title%3E%0A%20%20%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DPoppins%3Awght@400%3B600%26display%3Dswap%22%20rel%3D%22stylesheet%22/%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20%3Aroot%20%7B%20--primary%3A%234e73df%3B%20--primary-hover%3A%232e59d9%3B%20--bg%3A%23f8f9fc%3B%20%7D%0A%20%20%20%20*%2C*%3A%3Abefore%2C*%3A%3Aafter%7Bbox-sizing%3Aborder-box%3B%7D%0A%20%20%20%20body%7Bmargin%3A0%3Bdisplay%3Aflex%3Bjustify-content%3Acenter%3Balign-items%3Acenter%3Bheight%3A100vh%3Bbackground%3Avar%28--bg%29%3Bfont-family%3A%27Poppins%27%2Csans-serif%3B%7D%0A%20%20%20%20.card%7Bbackground%3A%23fff%3Bborder-radius%3A16px%3Bbox-shadow%3A0%208px%2016px%20rgba%280%2C0%2C0%2C0.1%29%3Bpadding%3A2rem%3Bwidth%3A360px%3Bopacity%3A0%3Btransform%3Ascale%280.95%29%3Banimation%3AzoomIn%200.5s%20forwards%3B%7D%0A%20%20%20%20@keyframes%20zoomIn%7Bto%7Bopacity%3A1%3Btransform%3Ascale%281%29%3B%7D%7D%0A%20%20%20%20h2%7Bcolor%3Avar%28--primary%29%3Btext-align%3Acenter%3Bmargin-bottom%3A1.5rem%3B%7D%0A%20%20%20%20.form-group%7Bmargin-bottom%3A1rem%3B%7D%0A%20%20%20%20input%7Bwidth%3A100%25%3Bpadding%3A.75rem%3Bborder%3A1px%20solid%20%23ddd%3Bborder-radius%3A8px%3Btransition%3Aborder-color%20.3s%2Cbox-shadow%20.3s%3B%7D%0A%20%20%20%20input%3Afocus%7Bborder-color%3Avar%28--primary%29%3Bbox-shadow%3A0%200%205px%20rgba%2878%2C115%2C223%2C0.5%29%3Boutline%3Anone%3B%7D%0A%20%20%20%20button%7Bwidth%3A100%25%3Bpadding%3A.75rem%3Bbackground%3Avar%28--primary%29%3Bcolor%3A%23fff%3Bborder%3Anone%3Bborder-radius%3A8px%3Bfont-weight%3A600%3Bcursor%3Apointer%3Btransition%3Abackground%20.3s%2Ctransform%20.2s%3B%7D%0A%20%20%20%20button%3Ahover%7Bbackground%3Avar%28--primary-hover%29%3Btransform%3Ascale%281.02%29%3B%7D%0A%20%20%20%20.link%7Btext-align%3Acenter%3Bmargin-top%3A1rem%3B%7D%0A%20%20%20%20.link%20a%7Bcolor%3Avar%28--primary%29%3Btext-decoration%3Anone%3Btransition%3Acolor%20.3s%3B%7D%0A%20%20%20%20.link%20a%3Ahover%7Bcolor%3Avar%28--primary-hover%29%3B%7D%0A%20%20%20%20.message%7Bmargin-top%3A1rem%3Bpadding%3A.75rem%3Bborder-radius%3A6px%3Bdisplay%3Anone%3Btext-align%3Acenter%3B%7D%0A%20%20%20%20.message.error%7Bbackground%3A%23fdecea%3Bcolor%3A%23b71c1c%3B%7D%0A%20%20%20%20.message.success%7Bbackground%3A%23eafaf1%3Bcolor%3A%231e4620%3B%7D%0A%20%20%20%20%23verify-section%7Bdisplay%3Anone%3B%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%3Ch2%3ERegistro%3C/h2%3E%0A%20%20%20%20%3Cform%20id%3D%22register-form%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%3Cinput%20type%3D%22text%22%20id%3D%22reg-username%22%20placeholder%3D%22Usuario%22%20required/%3E%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%3Cinput%20type%3D%22email%22%20id%3D%22reg-email%22%20placeholder%3D%22Email%22%20required/%3E%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%3Cinput%20type%3D%22password%22%20id%3D%22reg-password%22%20placeholder%3D%22Contrase%F1a%22%20required/%3E%3C/div%3E%0A%20%20%20%20%20%20%3Cbutton%20type%3D%22submit%22%3ERegistrar%3C/button%3E%0A%20%20%20%20%3C/form%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22verify-section%22%3E%0A%20%20%20%20%20%20%3Cp%20style%3D%22text-align%3Acenter%3B%22%3ETe%20hemos%20enviado%20un%20c%F3digo%20a%20tu%20email.%20Introduce%20aqu%ED%3A%3C/p%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%3Cinput%20type%3D%22text%22%20id%3D%22verify-code%22%20placeholder%3D%22C%F3digo%20de%20verificaci%F3n%22/%3E%3C/div%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22verify-button%22%3EVerificar%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22reg-message%22%20class%3D%22message%22%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22link%22%3E%3Ca%20href%3D%22session.html%22%3E%BFYa%20tienes%20cuenta%3F%20Inicia%20sesi%F3n%3C/a%3E%3C/div%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20document.addEventListener%28%27DOMContentLoaded%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20registerForm%20%20%3D%20document.getElementById%28%27register-form%27%29%3B%0A%20%20%20%20%20%20const%20verifySection%20%3D%20document.getElementById%28%27verify-section%27%29%3B%0A%20%20%20%20%20%20const%20verifyButton%20%20%3D%20document.getElementById%28%27verify-button%27%29%3B%0A%20%20%20%20%20%20const%20regMsg%20%20%20%20%20%20%20%20%3D%20document.getElementById%28%27reg-message%27%29%3B%0A%20%20%20%20%20%20let%20code%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%27%27%3B%0A%0A%20%20%20%20%20%20function%20showRegMessage%28text%2C%20type%29%20%7B%0A%20%20%20%20%20%20%20%20regMsg.textContent%20%3D%20text%3B%0A%20%20%20%20%20%20%20%20regMsg.className%20%20%20%3D%20%27message%20%27%20+%20type%3B%0A%20%20%20%20%20%20%20%20regMsg.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20regMsg.style.display%20%3D%20%27none%27%2C%204000%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Si%20ya%20hay%20sesi%F3n%0A%20%20%20%20%20%20if%20%28sessionStorage.getItem%28%27sessionUser%27%29%20%7C%7C%20localStorage.getItem%28%27loggedUser%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20window.location.href%20%3D%20%27content.html%27%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20registerForm.addEventListener%28%27submit%27%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20const%20u%20%20%3D%20document.getElementById%28%27reg-username%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20const%20em%20%3D%20document.getElementById%28%27reg-email%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20const%20p%20%20%3D%20document.getElementById%28%27reg-password%27%29.value%3B%0A%20%20%20%20%20%20%20%20if%20%28%21u%20%7C%7C%20%21em%20%7C%7C%20%21p%29%20return%20showRegMessage%28%27Rellena%20todos%20los%20campos.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28localStorage.getItem%28u%29%29%20return%20showRegMessage%28%27El%20usuario%20ya%20existe.%27%2C%20%27error%27%29%3B%0A%0A%20%20%20%20%20%20%20%20//%20Verifica%20email%20%FAnico%0A%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20localStorage.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20key%20%3D%20localStorage.key%28i%29%3B%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28JSON.parse%28localStorage.getItem%28key%29%29.email%20%3D%3D%3D%20em%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20showRegMessage%28%27El%20email%20ya%20est%E1%20registrado.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%7B%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20Genera%20c%F3digo%20de%206%20d%EDgitos%0A%20%20%20%20%20%20%20%20code%20%3D%20Math.floor%28100000%20+%20Math.random%28%29%20*%20900000%29.toString%28%29%3B%0A%0A%20%20%20%20%20%20%20%20//%20Usar%20fetch%20a%20la%20API%20REST%20de%20EmailJS%0A%20%20%20%20%20%20%20%20fetch%28%27https%3A//api.emailjs.com/api/v1.0/email/send%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20method%3A%20%27POST%27%2C%0A%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%20%27Content-Type%27%3A%20%27application/json%27%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20body%3A%20JSON.stringify%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20service_id%3A%20%20%20%20%27service_ww009hv%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20template_id%3A%20%20%20%27template_hukn10e%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20user_id%3A%20%20%20%20%20%20%20%27gAg_Q1KtEwpQTvI4u%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20template_params%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20to_email%3A%20em%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20verification_code%3A%20code%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20.then%28res%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28res.ok%29%20return%20res.text%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28res.status%20+%20%27%20%27%20+%20res.statusText%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20registerForm.style.display%20%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20verifySection.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20showRegMessage%28%27C%F3digo%20enviado.%20Revisa%20tu%20email.%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20.catch%28err%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%27Fetch%20EmailJS%20error%3A%27%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20%20%20showRegMessage%28%27Error%20al%20enviar%20correo%3A%20%27%20+%20err.message%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20verifyButton.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20v%20%3D%20document.getElementById%28%27verify-code%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28v%20%3D%3D%3D%20code%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20u%20%20%3D%20document.getElementById%28%27reg-username%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20em%20%3D%20document.getElementById%28%27reg-email%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20p%20%20%3D%20document.getElementById%28%27reg-password%27%29.value%3B%0A%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28u%2C%20JSON.stringify%28%7B%20email%3A%20em%2C%20password%3A%20p%20%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20showRegMessage%28%27Registro%20completado.%20Redirigiendo...%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20window.location.href%20%3D%20%27session.html%27%2C%201000%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20showRegMessage%28%27C%F3digo%20incorrecto.%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A"));
//-->
</script>